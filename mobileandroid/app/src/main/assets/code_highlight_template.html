<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            background: transparent;
            overflow-x: auto;
            margin: 0;
            padding: 8px;
        }

        pre {
            margin: 0;
            padding: 0;
            background: transparent;
            border: none;
            overflow-x: auto;
        }

        code {
            font-family: 'Courier New', 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            line-height: 1.6;
            background: transparent;
            display: block;
            padding: 0;
            white-space: pre;
        }

        /* Prism Theme - Custom Android Colors */
        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
            color: #6C757D; /* Gray for comments */
        }

        .token.punctuation {
            color: #495057; /* Dark gray for punctuation */
        }

        .token.property,
        .token.tag,
        .token.boolean,
        .token.number,
        .token.constant,
        .token.symbol,
        .token.deleted {
            color: #E74C3C; /* Red for constants */
        }

        .token.selector,
        .token.attr-name,
        .token.string,
        .token.char,
        .token.builtin,
        .token.inserted {
            color: #27AE60; /* Green for strings */
        }

        .token.operator,
        .token.entity,
        .token.url,
        .language-css .token.string,
        .style .token.string {
            color: #3498DB; /* Blue for operators */
        }

        .token.atrule,
        .token.attr-value,
        .token.keyword {
            color: #9B59B6; /* Purple for keywords */
        }

        .token.function,
        .token.class-name {
            color: #E67E22; /* Orange for functions */
        }

        .token.regex,
        .token.important,
        .token.variable {
            color: #F39C12; /* Yellow for variables */
        }

        /* HTML/XML specific */
        .token.tag .token.punctuation {
            color: #3498DB;
        }

        .token.tag .token.tag {
            color: #E74C3C;
        }

        .token.tag .token.attr-name {
            color: #9B59B6;
        }

        .token.tag .token.attr-value {
            color: #27AE60;
        }

        /* PHP specific */
        .language-php .token.delimiter {
            color: #E74C3C;
        }

        .language-php .token.variable {
            color: #3498DB;
        }
    </style>
</head>
<body>
    <pre><code class="language-LANGUAGE_PLACEHOLDER">CODE_PLACEHOLDER</code></pre>

    <script>
        // Minimal syntax highlighter with single-pass tokenization
        (function() {
            const code = document.querySelector('code');
            const language = code.className.replace('language-', '');
            const text = code.textContent;

            // Token definitions for each language
            const tokens = {
                php: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /\/\/.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /\b(echo|print|return|if|else|elseif|foreach|for|while|function|class|public|private|protected|static|const|new|extends|implements|namespace|use|try|catch|finally|throw|as|array|die|exit|include|require)\b/, type: 'keyword' },
                    { regex: /\$[a-zA-Z_][a-zA-Z0-9_]*/, type: 'variable' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                java: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /\/\/.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*")/, type: 'string' },
                    { regex: /\b(public|private|protected|static|final|class|interface|extends|implements|new|return|if|else|for|while|do|switch|case|break|continue|try|catch|finally|throw|throws|import|package|void|int|long|double|float|char|boolean|String|true|false|null)\b/, type: 'keyword' },
                    { regex: /\b[A-Z][a-zA-Z0-9]*\b/, type: 'class-name' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                javascript: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /\/\/.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|`(?:\\.|[^`\\])*`)/, type: 'string' },
                    { regex: /\b(var|let|const|function|return|if|else|for|while|do|switch|case|break|continue|try|catch|finally|throw|class|extends|import|export|default|async|await|new|typeof|instanceof|true|false|null|undefined)\b/, type: 'keyword' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                python: [
                    { regex: /#.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /\b(def|class|if|elif|else|for|while|return|import|from|as|try|except|finally|with|lambda|pass|break|continue|True|False|None|and|or|not|in|is)\b/, type: 'keyword' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                html: [
                    { regex: /<!--[\s\S]*?-->/, type: 'comment' },
                    { regex: /<\/?[a-zA-Z][a-zA-Z0-9]*/, type: 'tag' },
                    { regex: /\s[a-zA-Z-]+=/, type: 'attr-name' },
                    { regex: /=("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'attr-value' }
                ],
                go: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /\/\/.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|`(?:\\.|[^`\\])*`)/, type: 'string' },
                    { regex: /\b(package|import|func|var|const|type|struct|interface|return|if|else|for|range|switch|case|break|continue|goto|defer|go|chan|select|true|false|nil)\b/, type: 'keyword' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                sql: [
                    { regex: /--.*/, type: 'comment' },
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /\b(SELECT|FROM|WHERE|INSERT|UPDATE|DELETE|CREATE|DROP|ALTER|TABLE|INDEX|VIEW|DATABASE|INTO|VALUES|SET|JOIN|LEFT|RIGHT|INNER|OUTER|ON|AS|AND|OR|NOT|NULL|IS|IN|LIKE|BETWEEN|ORDER|BY|GROUP|HAVING|LIMIT|OFFSET|COUNT|SUM|AVG|MAX|MIN|DISTINCT|PRIMARY|KEY|FOREIGN|REFERENCES|CONSTRAINT|DEFAULT|AUTO_INCREMENT|UNSIGNED|INT|VARCHAR|TEXT|DATETIME|TIMESTAMP|BOOLEAN|DECIMAL|FLOAT|DOUBLE)\b/i, type: 'keyword' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[=<>!]+|[-+*\/]/, type: 'operator' },
                    { regex: /[(),;]/, type: 'punctuation' }
                ],
                kotlin: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /\/\/.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /\b(package|import|class|interface|object|fun|val|var|return|if|else|when|for|while|do|try|catch|finally|throw|public|private|protected|internal|open|abstract|override|companion|data|sealed|enum|annotation|suspend|inline|crossinline|noinline|reified|infix|operator|lateinit|by|delegate|is|as|in|true|false|null)\b/, type: 'keyword' },
                    { regex: /\b[A-Z][a-zA-Z0-9]*\b/, type: 'class-name' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                css: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /[.#]?[a-zA-Z][a-zA-Z0-9-]*(?=\s*\{)/, type: 'selector' },
                    { regex: /\b(color|background|font|margin|padding|border|width|height|display|position|top|left|right|bottom|float|clear|z-index|opacity|visibility|overflow|cursor|text-align|text-decoration|line-height|letter-spacing|word-spacing|font-size|font-weight|font-family)\b/, type: 'property' },
                    { regex: /#[0-9a-fA-F]{3,6}\b/, type: 'number' },
                    { regex: /\b\d+\.?\d*(px|em|rem|%|vh|vw|pt)?\b/, type: 'number' },
                    { regex: /[:;{}]/, type: 'punctuation' }
                ],
                cpp: [
                    { regex: /\/\*[\s\S]*?\*\//, type: 'comment' },
                    { regex: /\/\/.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /#\s*include/, type: 'keyword' },
                    { regex: /\b(class|struct|namespace|using|public|private|protected|virtual|static|const|void|int|long|double|float|char|bool|true|false|NULL|nullptr|if|else|for|while|do|switch|case|break|continue|return|try|catch|throw|new|delete|template|typename|auto|decltype|sizeof|typedef|enum|union|extern|inline|friend|operator|this)\b/, type: 'keyword' },
                    { regex: /\b[A-Z][a-zA-Z0-9]*\b/, type: 'class-name' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /[-+*\/=<>!&|]+/, type: 'operator' }
                ],
                bash: [
                    { regex: /#.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /\b(if|then|else|elif|fi|for|while|do|done|case|esac|function|return|echo|exit|export|source|alias|unset|read|shift|test|true|false)\b/, type: 'keyword' },
                    { regex: /\$\{?[a-zA-Z_][a-zA-Z0-9_]*\}?/, type: 'variable' },
                    { regex: /\b\d+\b/, type: 'number' },
                    { regex: /[|&;><]/, type: 'operator' }
                ],
                markdown: [
                    { regex: /^#{1,6}\s+.*$/m, type: 'keyword' },
                    { regex: /\*\*[^*]+\*\*|__[^_]+__/, type: 'keyword' },
                    { regex: /\*[^*]+\*|_[^_]+_/, type: 'string' },
                    { regex: /`[^`]+`/, type: 'string' },
                    { regex: /^\s*[-*+]\s/m, type: 'punctuation' },
                    { regex: /^\s*\d+\.\s/m, type: 'number' },
                    { regex: /\[([^\]]+)\]\(([^)]+)\)/, type: 'string' }
                ],
                yaml: [
                    { regex: /#.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /^[a-zA-Z_][a-zA-Z0-9_-]*:/m, type: 'property' },
                    { regex: /\b(true|false|null|yes|no|on|off)\b/, type: 'keyword' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /^---$|^\.\.\.$/m, type: 'operator' },
                    { regex: /^\s*-\s/m, type: 'punctuation' }
                ],
                yml: [
                    { regex: /#.*/, type: 'comment' },
                    { regex: /("(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*')/, type: 'string' },
                    { regex: /^[a-zA-Z_][a-zA-Z0-9_-]*:/m, type: 'property' },
                    { regex: /\b(true|false|null|yes|no|on|off)\b/, type: 'keyword' },
                    { regex: /\b\d+\.?\d*\b/, type: 'number' },
                    { regex: /^---$|^\.\.\.$/m, type: 'operator' },
                    { regex: /^\s*-\s/m, type: 'punctuation' }
                ],
                plaintext: []
            };

            // Escape HTML entities
            function escapeHtml(str) {
                return str
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;');
            }

            // Tokenize and highlight
            function highlight(code, lang) {
                if (!tokens[lang]) {
                    return escapeHtml(code);
                }

                let result = '';
                let pos = 0;

                while (pos < code.length) {
                    let matched = false;

                    // Try to match each token type
                    for (let tokenDef of tokens[lang]) {
                        const regex = new RegExp('^' + tokenDef.regex.source);
                        const match = code.slice(pos).match(regex);

                        if (match) {
                            const token = match[0];
                            result += '<span class="token ' + tokenDef.type + '">' + escapeHtml(token) + '</span>';
                            pos += token.length;
                            matched = true;
                            break;
                        }
                    }

                    // If no match, add the character as-is
                    if (!matched) {
                        result += escapeHtml(code[pos]);
                        pos++;
                    }
                }

                return result;
            }

            // Apply highlighting
            code.innerHTML = highlight(text, language);
        })();
    </script>
</body>
</html>
